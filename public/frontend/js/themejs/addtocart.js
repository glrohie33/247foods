var qty=0;function setQuantity(t){t.value>=0&&(qty=this.value),console.log(t.value)}var cart={add:function(t,a=1){var e=$("#hf_base_url").val()+"/ajax/add-to-cart",r={};r.product_id=t,qty = ($("#product input[name='quantity']").val())?$("#product input[name='quantity']").val():0;r.qty=0!=qty?qty:a;var o=this;ajax("POST",r,e,function(t){t&&"zero_price"==t?($("#shadow-layer, .add-to-cart-loader").hide(),swal("","price cant be zero")):t&&"out_of_stock"==t?($("#shadow-layer, .add-to-cart-loader").hide(),swal("","product is out of stock")):t&&"vendor_not_same"==t?($("#shadow-layer, .add-to-cart-loader").hide(),swal("","vendor not the same")):t&&"stock_over"==t?($("#shadow-layer, .add-to-cart-loader").hide(),swal("","May be you try with over quantity!")):t&&"item_added"==t&&(addProductNotice("Product added to Cart","",'<h3><a href="#">Product </a> added to <a href="#">shopping cart</a>!</h3>',"success"),o.cart())})},delete:function(t){var a=this;ajax("GET","",$("#hf_base_url").val()+"/ajax/remove-from-cart/"+t,function(t){"done"==t.status?(addProductNotice("Product removed from cart","",'<h3><a href="#">Product "</a> removed from <a href="#">shopping cart</a>!</h3>',"success"),a.cart()):t&&"item_added"==t&&swal("","there is an error try later")})},cart:function(){ajax("POST","",$("#hf_base_url").val()+"/ajax/get-mini-cart-data",function(t){if("success"==t.status){var a=JSON.parse(t.items);Object.keys(a).length,buildCart(a)}})}},wishlist={add:function(t){addProductNotice("Product added to Wishlist",'<img src="image/catalog/demo/product/travel/1.jpg" alt="">','<h3>You must <a href="#">login</a>  to save <a href="#">Apple Cinema 30"</a> to your <a href="#">wish list</a>!</h3>',"success")}},compare={add:function(t){addProductNotice("Product added to compare",'<img src="image/catalog/demo/product/travel/1.jpg" alt="">','<h3>Success: You have added <a href="#">Apple Cinema 30"</a> to your <a href="#">product comparison</a>!</h3>',"success")}};function ajax(t,a,e,r){$.ajax({url:e,type:t,data:a,cache:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){r(t)},error:function(){}})}function buildCart(t){var a="<li class=\"content-item\" style='max-height:260px;overflow:auto;'>";console.log(t);var e=0;for(key in t){e++;var r=t[key],o=$("#hf_base_url").val(),c=o+r.img_src,d=r.name,s=r.quantity,n=r.id;r.id;a+=`<table class="table table-striped" style="margin-bottom:0px;">\n\t\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td class="text-center size-img-cart" ><a href="${o}/products/details"><img src="${c}"\n\t\t\t\talt="name" style="max-width:54px;"\n\t\t\t\tclass="img-thumbnail"></a>\n\t\t\t\t</td>\n\t\t\t\t<td class="text-left"><a href="product.html"> ${d} </td>\n\t\t\t\t<td class="text-right">${s}</td>\n\t\t\t\t<td class="text-right">${r.order_price}</td>\n\t\t\t\t<td class="text-center">\n\t\t\t\t\t<a type="button"  title="Remove"\n\t\t\t\t\t\tclass="btn btn-danger btn-xs" onclick="cart.delete(${n})">\n\t\t\t\t\t\t<i class="fa fa-trash-o"></i></button>\n\t\t\t\t</a>\n\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>`}a+=`</li><li>\n\t\t<div class="checkout clearfix">\n\t\t\t<a href="${o}/cart" class="btn btn-view-cart inverse"> View Cart</a>\n\t\t\t<a href="${o}/checkout"\n\t\t\t\tclass="btn btn-checkout pull-right">Checkout</a>\n\t\t</div>\n\t</li>`,$(".menu-cart").html(a),$(".items_cart").html(e)}function addProductNotice(t,a,e,r){$.jGrowl.defaults.closer=!1;var o=a+"<h3>"+e+"</h3>";$.jGrowl(o,{life:4e3,header:t,speed:"slow",theme:r})}window.onload=function(){this.cart.cart()};